server:
  port: 8000

spring:
  application:
    name: cloud-gateway
  profiles:
    active: dev
  main:
      allow-bean-definition-overriding: true # 允许重名bean
  cloud:
    nacos:
      config:
        server-addr: ${spring.cloud.nacos.discovery.server-addr}
        namespace: ${spring.cloud.nacos.discovery.namespace}
        prefix: ${spring.application.name}
        file-extension: properties
        extension-configs:
          - data-id: cloud-common.properties # 加载公共配置
          - data-id: cloud-common-redis.properties # 加载Redis配置
          - data-id: cloud-common-nacos.properties # 加载nacos心跳检测配置
          - data-id: cloud-common-sentinel.properties # 加载sentinel配置
          - data-id: cloud-gateway-router # 加载路由配置
management:
  endpoint:
    gateway:
      enabled: true
  endpoints:
    web:
      exposure:
        include: gateway

# open feign 配置
feign:
  hystrix:
    enabled: true # 开启Fallback
  client:
    config:
      defalut:
        connect-timeout: 20000 # 超时设置，单位毫秒
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 20000 # 超时设置，单位毫秒

---
spring:
  profiles: dev
  cloud:
    nacos:
      discovery:
        server-addr: localhost
        namespace: 0dca6ba7-f031-4cf6-a4e7-b44d0d036a47
      # nacos web端地址，需要携带端口，多个使用`,`分割
#        server-addr: localhost
#        namespace: 0dca6ba7-f031-4cf6-a4e7-b44d0d036a47
