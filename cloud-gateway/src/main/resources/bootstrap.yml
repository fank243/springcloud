server:
  port: 8800

spring:
  application:
    name: cloud-gateway

  profiles:
    active: dev

  cloud:
    nacos:
      discovery:
        # nacos web端地址，需要携带端口，多个使用`,`分割
        server-addr: ${fank.nacos.server-addr}
        namespace: ${fank.nacos.namespace}
        metadata:
          # https://github.com/alibaba/spring-cloud-alibaba/issues/765
          preserved:
            heart:
              beat:
                interval: 10000 # 设置心跳的周期，默认5s
                timeout: 15000 # 设置心跳超时时间, 即服务端15s收不到客户端心跳，会将该客户端注册的实例设为不健康，默认：15s
      config:
        server-addr: ${fank.nacos.server-addr}
        namespace: ${fank.nacos.namespace}
        prefix: ${spring.application.name}
        file-extension: yml

    # alibaba 哨兵
    sentinel:
      transport:
        dashboard: 192.168.8.119:8858
      datasource:
        flow:
          nacos:
            server-addr: ${fank.nacos.server-addr}
            namespace: ${fank.nacos.namespace}
            dataId: ${spring.application.name}-sentinel-flow
            rule-type: gw-flow

# 自定义配置
fank:
  nacos:
    server-addr: 192.168.8.119
    namespace: 9edb3cd4-4273-444d-8d05-870a1d3c9df3
  gateway:
    route:
      data-id: ${spring.application.name}-route

logging:
  config: classpath:log4j2.xml
